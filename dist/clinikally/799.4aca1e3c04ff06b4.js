"use strict";(self.webpackChunkclinikally=self.webpackChunkclinikally||[]).push([[799],{7799:(A,b,o)=>{o.r(b),o.d(b,{MedicalRecordsModule:()=>N});var h=o(177),m=o(1188),F=o(9159),k=o(8615),f=o(5312),t=o(4438),j=o(118),p=o(4412);let v=(()=>{class s{constructor(){this.tablePageSize=new p.t({skip:0,limit:10,pageSize:10}),this.calculatePageSize=new p.t({totalData:0,pageSize:10,tableData:[],tableData2:[],tableData3:[],tableData4:[],serialNumberArray:[]}),this.changePagesize=new p.t({pageSize:10})}static#t=this.\u0275fac=function(e){return new(e||s)};static#a=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var D=o(2239),E=o(5794),g=o(9417),M=o(9733);function R(s,d){1&s&&t.nrm(0,"img",46)}function y(s,d){if(1&s){const a=t.RV6();t.j41(0,"img",47),t.bIt("error",function(i){t.eBV(a);const n=t.XpG(2);return t.Njj(n.handleImageError(i))}),t.k0s()}if(2&s){const a=t.XpG().$implicit,e=t.XpG();t.Y8G("src",e.generateImageUrl(a.doctorImage),t.B4B)}}function P(s,d){if(1&s){const a=t.RV6();t.qex(0),t.j41(1,"tr")(2,"td")(3,"a",37),t.EFF(4),t.k0s()(),t.j41(5,"td")(6,"a",38)(7,"span"),t.nrm(8,"i",39),t.k0s(),t.EFF(9,"Prescription "),t.k0s()(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td")(13,"h2",40)(14,"a",41),t.DNE(15,R,1,0,"img",42)(16,y,1,1,"img",43),t.k0s(),t.j41(17,"a"),t.EFF(18),t.k0s()()(),t.j41(19,"td")(20,"div",26)(21,"a",44),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.sendData())}),t.nrm(22,"i",45),t.k0s()()()(),t.bVm()}if(2&s){const a=d.$implicit,e=d.index,i=t.XpG();t.R7$(4),t.JRh(e+1),t.R7$(7),t.JRh(i.formatDateString(a.createdDate)),t.R7$(4),t.Y8G("ngIf",!a.doctorImage),t.R7$(),t.Y8G("ngIf",a.doctorImage),t.R7$(2),t.JRh(a.doctorName)}}const S=[{path:"",component:(()=>{class s{constructor(a,e,i,n,r){this.data=a,this.pagination=e,this.router=i,this.patientsService=n,this.toastr=r,this.routes=k.J,this.tableData=[],this.tableData2=[],this.searchTerm="",this.pageSize=10,this.serialNumberArray=[],this.totalData=0,this.showFilter=!1,this.baseUrlPdf="https://bookingapi.asptask.in/",this.searchDataValue="",this.Prescriptions=[],this.filteredPrescriptions=[],this.baseUrl=f.c.ImgBaseUrl,this.getPrescription(),this.pagination.tablePageSize.subscribe(c=>{this.router.url==this.routes.medicalrecords&&(this.getTableData({skip:c.skip,limit:c.limit}),this.pageSize=c.pageSize)}),this.pagination.tablePageSize.subscribe(c=>{this.router.url==this.routes.medicalrecords&&(this.getTableData2({skip:c.skip,limit:c.limit}),this.pageSize=c.pageSize)})}ngOnInit(){this.filteredPrescriptions=[...this.Prescriptions]}getTableData(a){this.data.getMedicalRecords1().subscribe(e=>{this.tableData=[],this.serialNumberArray=[],this.totalData=e.totalData,e.data.map((i,n)=>{const r=n+1;n>=a.skip&&r<=a.limit&&(i.id=r,this.tableData.push(i),this.serialNumberArray.push(r))}),this.dataSource=new F.I6(this.tableData),this.pagination.calculatePageSize.next({totalData:this.totalData,pageSize:this.pageSize,tableData:this.tableData,serialNumberArray:this.serialNumberArray,tableData2:this.tableData,tableData3:[],tableData4:[]})})}getTableData2(a){this.data.getMedicalRecords2().subscribe(e=>{this.tableData2=[],this.serialNumberArray=[],this.totalData=e.totalData,e.data.map((i,n)=>{const r=n+1;n>=a.skip&&r<=a.limit&&(i.id=r,this.tableData2.push(i),this.serialNumberArray.push(r))}),this.dataSource=new F.I6(this.tableData2),this.pagination.calculatePageSize.next({totalData:this.totalData,pageSize:this.pageSize,tableData2:this.tableData2,serialNumberArray:this.serialNumberArray,tableData:this.tableData,tableData3:[],tableData4:[]})})}sortData(a){const e=this.tableData.slice();this.tableData=a.active&&""!==a.direction?e.sort((i,n)=>(i[a.active]<n[a.active]?-1:1)*("asc"===a.direction?1:-1)):e}sortData2(a){const e=this.tableData2.slice();this.tableData2=a.active&&""!==a.direction?e.sort((i,n)=>(i[a.active]<n[a.active]?-1:1)*("asc"===a.direction?1:-1)):e}formatDateString(a){const i=new Date(a),n=i.getDate(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i.getMonth()],c=i.getFullYear();let l=i.getHours();const u=i.getMinutes(),T=l>=12?"PM":"AM";return l%=12,l=l||12,`${n} ${r} ${c}, ${l}:${u<10?"0"+u:u} ${T}`}fullFilePath(a){return this.baseUrlPdf+a}getPrescription(){this.patientsService.getPrescription().subscribe(a=>{this.Prescriptions=a?.data,this.filteredPrescriptions=[...this.Prescriptions]})}delete(a){this.patientsService.deletePrescription(a).subscribe(e=>{this.toastr.success("Prescription deleted Successfully","Success"),this.getPrescription()})}searchPrescription(){const a=this.searchTerm.toLowerCase();this.filteredPrescriptions=a.length>0?this.Prescriptions.filter(e=>e.customPrescriptionID?.toLowerCase().includes(a)||e.doctorName.toLowerCase().includes(a)||e.patientId.toLowerCase().includes(a)||e.createdDate.toLowerCase().includes(a)):this.Prescriptions}sendData(){const a=this.Prescriptions.find(e=>e.id==e.id);this.patientsService.Prescriptions.next(a)}generateImageUrl(a){return`${this.baseUrl}${a}`}handleImageError(a){a.target.src="https://images.prismic.io/skinify/ZqnVuR5LeNNTxoko_doload.jpg?auto=format,compress"}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(j.u),t.rXU(v),t.rXU(m.Ix),t.rXU(D.K),t.rXU(E.tw))};static#a=this.\u0275cmp=t.VBU({type:s,selectors:[["app-medical-records"]],decls:208,vars:2,consts:[[1,"content","doctor-content"],[1,"container"],[1,"row"],[1,"col-lg-4","col-xl-3","mt-5"],[1,"col-lg-8","col-xl-9","mt-5"],[1,"dashboard-header"],[1,"appointment-tabs"],[1,"nav"],[1,"tab-content","pt-0"],["id","prescription",1,"tab-pane","fade","show","active"],[1,"search-header"],[1,"search-field"],["type","text","placeholder","Search",1,"form-control",3,"ngModelChange","ngModel"],[1,"search-icon",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"custom-table"],[1,"table-responsive"],[1,"table","table-center","mb-0"],[4,"ngFor","ngForOf"],["id","medical",1,"tab-pane","fade"],["type","text","placeholder","Search",1,"form-control"],[1,"search-icon"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#add_medical_records",1,"btn","btn-primary","prime-btn"],["href","javascript:void(0);",1,"text-blue-600"],["href","javascript:void(0);",1,"lab-icon"],[1,"fa-solid","fa-paperclip"],[1,"action-item"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#edit_medical_records"],[1,"fa-solid","fa-pen-to-square"],["href","javascript:void(0);"],[1,"fa-solid","fa-download"],[1,"fa-solid","fa-trash-can"],[1,"pagination","dashboard-pagination"],["href","javascript:void(0);",1,"page-link"],[1,"fa-solid","fa-chevron-left"],["href","javascript:void(0);",1,"page-link","active"],[1,"fa-solid","fa-chevron-right"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#view_prescription",1,"text-blue-600"],["href","javascript:void(0);",1,"lab-icon","prescription"],[1,"fa-solid","fa-prescription"],[1,"table-avatar"],[1,"avatar","avatar-sm","me-2"],["loading","lazy","class","avatar-img rounded-3","src","https://images.prismic.io/skinify/ZqnVuR5LeNNTxoko_doload.jpg?auto=format,compress","alt","User Image",4,"ngIf"],["loading","lazy","class","avatar-img rounded-3","alt","User Image",3,"src","error",4,"ngIf"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#view_prescription",3,"click"],[1,"fa-solid","fa-link"],["loading","lazy","src","https://images.prismic.io/skinify/ZqnVuR5LeNNTxoko_doload.jpg?auto=format,compress","alt","User Image",1,"avatar-img","rounded-3"],["loading","lazy","alt","User Image",1,"avatar-img","rounded-3",3,"error","src"]],template:function(e,i){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"app-patient-sidebar",3),t.j41(4,"div",4)(5,"div",5)(6,"h3"),t.EFF(7,"Prescriptions"),t.k0s(),t.j41(8,"div",6),t.nrm(9,"ul",7),t.k0s()(),t.j41(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"input",12),t.mxI("ngModelChange",function(r){return t.DH7(i.searchTerm,r)||(i.searchTerm=r),r}),t.bIt("ngModelChange",function(){return i.searchPrescription()}),t.k0s(),t.j41(15,"button",13),t.bIt("click",function(){return i.searchPrescription()}),t.nrm(16,"i",14),t.k0s()()(),t.j41(17,"div",15)(18,"div",16)(19,"table",17)(20,"thead")(21,"tr")(22,"th"),t.EFF(23,"ID"),t.k0s(),t.j41(24,"th"),t.EFF(25,"Name"),t.k0s(),t.j41(26,"th"),t.EFF(27,"Created Date"),t.k0s(),t.j41(28,"th"),t.EFF(29,"Prescriped By"),t.k0s(),t.j41(30,"th"),t.EFF(31,"Action"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,P,23,5,"ng-container",18),t.k0s()()()()(),t.j41(34,"div",19)(35,"div",10)(36,"div",11),t.nrm(37,"input",20),t.j41(38,"span",21),t.nrm(39,"i",14),t.k0s()(),t.j41(40,"div")(41,"a",22),t.EFF(42,"Add Medical Record"),t.k0s()()(),t.j41(43,"div",15)(44,"div",16)(45,"table",17)(46,"thead")(47,"tr")(48,"th"),t.EFF(49,"ID"),t.k0s(),t.j41(50,"th"),t.EFF(51,"Name"),t.k0s(),t.j41(52,"th"),t.EFF(53,"Date"),t.k0s(),t.j41(54,"th"),t.EFF(55,"Description"),t.k0s(),t.j41(56,"th"),t.EFF(57,"Action"),t.k0s()()(),t.j41(58,"tbody")(59,"tr")(60,"td")(61,"a",23),t.EFF(62,"#MR-123"),t.k0s()(),t.j41(63,"td")(64,"a",24)(65,"span"),t.nrm(66,"i",25),t.k0s(),t.EFF(67,"Lab Report "),t.k0s()(),t.j41(68,"td"),t.EFF(69,"24 Mar 2024"),t.k0s(),t.j41(70,"td"),t.EFF(71,"Glucose Test V12"),t.k0s(),t.j41(72,"td")(73,"div",26)(74,"a",27),t.nrm(75,"i",28),t.k0s(),t.j41(76,"a",29),t.nrm(77,"i",30),t.k0s(),t.j41(78,"a",29),t.nrm(79,"i",31),t.k0s()()()(),t.j41(80,"tr")(81,"td")(82,"a",23),t.EFF(83,"#MR-124"),t.k0s()(),t.j41(84,"td")(85,"a",24)(86,"span"),t.nrm(87,"i",25),t.k0s(),t.EFF(88,"Lab Report "),t.k0s()(),t.j41(89,"td"),t.EFF(90,"27 Mar 2024"),t.k0s(),t.j41(91,"td"),t.EFF(92,"Complete Blood Count(CBC)"),t.k0s(),t.j41(93,"td")(94,"div",26)(95,"a",27),t.nrm(96,"i",28),t.k0s(),t.j41(97,"a",29),t.nrm(98,"i",30),t.k0s(),t.j41(99,"a",29),t.nrm(100,"i",31),t.k0s()()()(),t.j41(101,"tr")(102,"td")(103,"a",23),t.EFF(104,"#MR-125"),t.k0s()(),t.j41(105,"td")(106,"a",24)(107,"span"),t.nrm(108,"i",25),t.k0s(),t.EFF(109,"Lab Report "),t.k0s()(),t.j41(110,"td"),t.EFF(111,"10 Apr 2024"),t.k0s(),t.j41(112,"td"),t.EFF(113,"Echocardiogram"),t.k0s(),t.j41(114,"td")(115,"div",26)(116,"a",27),t.nrm(117,"i",28),t.k0s(),t.j41(118,"a",29),t.nrm(119,"i",30),t.k0s(),t.j41(120,"a",29),t.nrm(121,"i",31),t.k0s()()()(),t.j41(122,"tr")(123,"td")(124,"a",23),t.EFF(125,"#MR-126"),t.k0s()(),t.j41(126,"td")(127,"a",24)(128,"span"),t.nrm(129,"i",25),t.k0s(),t.EFF(130,"Lab Report "),t.k0s()(),t.j41(131,"td"),t.EFF(132,"19 Apr 2024"),t.k0s(),t.j41(133,"td"),t.EFF(134,"COVID-19 Test"),t.k0s(),t.j41(135,"td")(136,"div",26)(137,"a",27),t.nrm(138,"i",28),t.k0s(),t.j41(139,"a",29),t.nrm(140,"i",30),t.k0s(),t.j41(141,"a",29),t.nrm(142,"i",31),t.k0s()()()(),t.j41(143,"tr")(144,"td")(145,"a",23),t.EFF(146,"#MR-127"),t.k0s()(),t.j41(147,"td")(148,"a",24)(149,"span"),t.nrm(150,"i",25),t.k0s(),t.EFF(151,"Lab Report "),t.k0s()(),t.j41(152,"td"),t.EFF(153,"27 Apr 2024"),t.k0s(),t.j41(154,"td"),t.EFF(155,"Allergy Tests"),t.k0s(),t.j41(156,"td")(157,"div",26)(158,"a",27),t.nrm(159,"i",28),t.k0s(),t.j41(160,"a",29),t.nrm(161,"i",30),t.k0s(),t.j41(162,"a",29),t.nrm(163,"i",31),t.k0s()()()(),t.j41(164,"tr")(165,"td")(166,"a",23),t.EFF(167,"#MR-128"),t.k0s()(),t.j41(168,"td")(169,"a",24)(170,"span"),t.nrm(171,"i",25),t.k0s(),t.EFF(172,"Lab Report "),t.k0s()(),t.j41(173,"td"),t.EFF(174,"02 May 2024"),t.k0s(),t.j41(175,"td"),t.EFF(176,"Lipid Panel "),t.k0s(),t.j41(177,"td")(178,"div",26)(179,"a",27),t.nrm(180,"i",28),t.k0s(),t.j41(181,"a",29),t.nrm(182,"i",30),t.k0s(),t.j41(183,"a",29),t.nrm(184,"i",31),t.k0s()()()()()()()(),t.j41(185,"div",32)(186,"ul")(187,"li")(188,"a",33),t.nrm(189,"i",34),t.k0s()(),t.j41(190,"li")(191,"a",33),t.EFF(192,"1"),t.k0s()(),t.j41(193,"li")(194,"a",35),t.EFF(195,"2"),t.k0s()(),t.j41(196,"li")(197,"a",33),t.EFF(198,"3"),t.k0s()(),t.j41(199,"li")(200,"a",33),t.EFF(201,"4"),t.k0s()(),t.j41(202,"li")(203,"a",33),t.EFF(204,"..."),t.k0s()(),t.j41(205,"li")(206,"a",33),t.nrm(207,"i",36),t.k0s()()()()()()()()()()),2&e&&(t.R7$(14),t.R50("ngModel",i.searchTerm),t.R7$(19),t.Y8G("ngForOf",i.filteredPrescriptions))},dependencies:[h.Sq,h.bT,g.me,g.BC,g.vS,M.B],styles:[".search-icon[_ngcontent-%COMP%]{background:none;border:none}"]})}return s})()}];let C=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#a=this.\u0275mod=t.$C({type:s});static#e=this.\u0275inj=t.G2t({imports:[m.iI.forChild(S),m.iI]})}return s})();var I=o(675);let N=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#a=this.\u0275mod=t.$C({type:s});static#e=this.\u0275inj=t.G2t({imports:[h.MD,C,I.G]})}return s})()}}]);